# **In AWS**

üî¥ 4 volumes (volumes of 1 GB and associate in instance).

# **In Termius**

## Raid 6

‚óªÔ∏è For `gdisk /dev/xvdf` , `gdisk /dev/xvdg`, `gdisk /dev/xvdh` and `gdisk /dev/xvdi` .
```
o Enter for new empty GUID partition table (GPT) ;
y Enter to confirm your decision ;
n Enter ;
Enter ;
Enter ;
Enter ;
fd00 and Enter ;
w Enter to write changes ;
y Enter to confirm your decision .
```
________________________________________________________
‚óªÔ∏è `mdadm --create /dev/md0 --level 6 --raid-devices 4 /dev/xvdf1 /dev/xvdg1 /dev/xvdh1 /dev/xvdi1` ;

‚óªÔ∏è `mdadm --detail /dev/md0` .
```
[---wait until you say---]
  State : clean
  Active Devices : 4
  Working Devices : 4
  Failed Devices : 0
  Spare Devices : 0
```
________________________________________________________
### Block required to use LVM

‚óªÔ∏è `pvcreate /dev/md0` ;

‚óªÔ∏è `pvscan` shows the physical volumes ;

‚óªÔ∏è `pvdisplay` shows detailed information of physical volumes ;

‚óªÔ∏è `vgcreate vg0 /dev/md0` creates volume group ;

‚óªÔ∏è `vgdisplay` shows volume group information ;

‚óªÔ∏è `lvcreate -n vg0lv0 -l +50%FREE vg0` creates vg0lv0 with 1G ;

‚óªÔ∏è `lvcreate -n vg0lv1 -l +10%FREE vg0` creates vg0lv1 with 1G ;

‚óªÔ∏è `lvdisplay` shows logical volume information .
________________________________________________________
‚óªÔ∏è `cryptsetup luksFormat --hash=sha512 --key-size=512 --cipher=aes-xts-plain64 --verify-passphrase /dev/vg0/vg0lv0` This will override data on /dev/md0 irrevocably. --- YES ;

‚óªÔ∏è `cryptsetup luksFormat --hash=sha512 --key-size=512 --cipher=aes-xts-plain64 --verify-passphrase /dev/vg0/vg0lv1` This will override data on /dev/md0 irrevocably. --- YES ;

‚óªÔ∏è `cryptsetup luksOpen /dev/vg0/vg0lv0 vg0lv0_crypt` vg0lv0_crypt can be whatever name we want ;

‚óªÔ∏è `cryptsetup luksOpen /dev/vg0/vg0lv1 vg0lv1_crypt` vg0lv1_crypt can be whatever name we want ;

‚óªÔ∏è `mkfs.xfs /dev/mapper/vg0lv0_crypt` format filesystem ;

‚óªÔ∏è `mkfs.xfs /dev/mapper/vg0lv1_crypt` format filesystem .
________________________________________________________
### Creating folders

‚óªÔ∏è `cd /mnt` ;

‚óªÔ∏è `mkdir user` ;

‚óªÔ∏è `mkdir info` ;

‚óªÔ∏è `mount /dev/mapper/vg0lv0_crypt /mnt/user/` ;

‚óªÔ∏è `mount /dev/mapper/vg0lv1_crypt /mnt/info/` ;

‚óªÔ∏è `cat /etc/mtab` copies the two last lines ;

‚óªÔ∏è `nano /etc/fstab` pastes the two lines and add "nofail," or ",nofail" .
________________________________________________________
‚óªÔ∏è `reboot` ;

‚óªÔ∏è `cryptsetup luksOpen /dev/vg0/vg0lv0 vg0lv0_crypt` opens vg0lv0_crypt ;

‚óªÔ∏è `cryptsetup luksOpen /dev/vg0/vg0lv0 vg0lv1_crypt` opens vg0lv1_crypt ;

‚óªÔ∏è `mount -a` assembles the units ;

‚óªÔ∏è `df -hT` see if the `mount -a` commands worked ;

‚óªÔ∏è `cryptsetup status /dev/mapper/vg0lv0_crypt` ;

‚óªÔ∏è `cryptsetup status /dev/mapper/vg0lv1_crypt` ;

‚óªÔ∏è `cryptsetup luksDump /dev/mapper/vg0-vg0lv0` ;

‚óªÔ∏è `cryptsetup luksDump /dev/mapper/vg0-vg0lv1` .
